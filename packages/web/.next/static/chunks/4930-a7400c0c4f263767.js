"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4930],{1698:function(e,t,i){i.d(t,{c:function(){return w}});class s{init(){}trackPageView(e,t){if(t&&"va"in window)try{var i,s;null===(i=(s=window).va)||void 0===i||i.call(s,"track",{name:"page_view",properties:{route:e,...t}})}catch(e){}}trackEvent(e,t){if("va"in window){var i,s;null===(i=(s=window).va)||void 0===i||i.call(s,"track",{name:e,properties:t||{}})}}trackError(e,t){let i="string"==typeof e?e:e.message,s="string"==typeof e?void 0:e.stack;if("va"in window){var r,n;null===(r=(n=window).va)||void 0===r||r.call(n,"track",{name:"error",properties:{message:i,stack:s,...t}})}}flush(){}}let r=new s;var n=i(8571);class o{init(){if(!this.measurementId||this.initialized)return;window.dataLayer=window.dataLayer||[];let e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=".concat(this.measurementId),document.head.appendChild(e),window.gtag=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];window.dataLayer&&window.dataLayer.push(t)},window.gtag("js",new Date),window.gtag("config",this.measurementId,{page_path:window.location.pathname}),this.initialized=!0}trackPageView(e,t){window.gtag&&window.gtag("event","page_view",{page_path:e,page_title:(null==t?void 0:t.title)||document.title,...t})}trackEvent(e,t){window.gtag&&window.gtag("event",e,t||{})}trackError(e,t){if(!window.gtag)return;let i="string"==typeof e?e:e.message;window.gtag("event","exception",{description:i,fatal:!1,...t})}identify(e,t){window.gtag&&(window.gtag("set",{user_id:e}),t&&window.gtag("set",{user_properties:t}))}setUserProperties(e){window.gtag&&window.gtag("set","user_properties",e)}constructor(e){this.initialized=!1,this.measurementId=e||n.env.NEXT_PUBLIC_GA4_MEASUREMENT_ID||""}}let a=e=>new o(e);var c=i(8571);class l{init(){if(!this.apiKey||this.initialized)return;let e=document.createElement("script");e.async=!0,e.innerHTML='\n      !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys onSessionId".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);\n      posthog.init(\''.concat(this.apiKey,"',{api_host:'").concat(this.apiHost,"'})\n    "),document.head.appendChild(e),this.initialized=!0}trackPageView(e,t){window.posthog&&window.posthog.capture("$pageview",{$current_url:e,...t})}trackEvent(e,t){window.posthog&&window.posthog.capture(e,t||{})}trackError(e,t){if(!window.posthog)return;let i="string"==typeof e?e:e.message,s="string"==typeof e?void 0:e.stack;window.posthog.capture("$exception",{$exception_message:i,$exception_stack:s,...t})}identify(e,t){window.posthog&&window.posthog.identify(e,t)}setUserProperties(e){window.posthog&&window.posthog.identify&&window.posthog.identify(void 0,e)}flush(){}constructor(e,t){this.initialized=!1,this.apiKey=e||c.env.NEXT_PUBLIC_POSTHOG_KEY||"",this.apiHost=t||c.env.NEXT_PUBLIC_POSTHOG_HOST||"https://app.posthog.com"}}let h=(e,t)=>new l(e,t);class d{startFlushTimer(){this.config.flushInterval&&(this.stopFlushTimer(),this.flushTimer=setInterval(()=>{this.flush()},this.config.flushInterval))}stopFlushTimer(){null!==this.flushTimer&&(clearInterval(this.flushTimer),this.flushTimer=null)}async sendEvent(e,t){try{let i=await fetch(this.config.endpoint,{method:"POST",headers:{"Content-Type":"application/json",...this.config.headers},body:JSON.stringify({type:e,data:t,timestamp:new Date().toISOString()})});i.ok||console.warn("Analytics event failed: ".concat(i.statusText))}catch(e){console.warn("Failed to send analytics event:",e)}}trackPageView(e,t){this.eventQueue.push({type:"page_view",data:{route:e,...t}}),this.eventQueue.length>=(this.config.batchSize||10)&&this.flush()}trackEvent(e,t){this.eventQueue.push({type:"event",data:{name:e,...t}}),this.eventQueue.length>=(this.config.batchSize||10)&&this.flush()}trackError(e,t){let i="string"==typeof e?e:e.message,s="string"==typeof e?void 0:e.stack;this.eventQueue.push({type:"error",data:{message:i,stack:s,...t}}),this.flush()}identify(e,t){this.eventQueue.push({type:"identify",data:{userId:e,traits:t}})}setUserProperties(e){this.eventQueue.push({type:"user_properties",data:e})}async flush(){if(0===this.eventQueue.length)return;let e=[...this.eventQueue];this.eventQueue=[],await Promise.all(e.map(e=>this.sendEvent(e.type,e.data)))}init(){}destroy(){this.stopFlushTimer()}constructor(e){this.eventQueue=[],this.flushTimer=null,this.config={batchSize:10,flushInterval:5e3,...e},this.startFlushTimer()}}let u=e=>new d(e);var p=i(8571);class g{init(){if(!this.initialized){for(let t of this.getProviderTypes())try{let i=null;switch(t){case"vercel":i=r;break;case"ga4":i=a();break;case"posthog":i=h();break;case"custom":{let e=p.env.NEXT_PUBLIC_ANALYTICS_ENDPOINT;e&&(i=u({endpoint:e,headers:{Authorization:"Bearer ".concat(p.env.NEXT_PUBLIC_ANALYTICS_TOKEN||"")}}))}}if(i){var e;null===(e=i.init)||void 0===e||e.call(i),this.providers.push(i)}}catch(e){console.warn("Failed to initialize analytics provider ".concat(t,":"),e)}this.initialized=!0}}getProviderTypes(){return(p.env.NEXT_PUBLIC_ANALYTICS_PROVIDERS||"vercel").split(",").map(e=>e.trim()).filter(e=>"none"!==e)}trackPageView(e,t){this.initialized||this.init(),this.providers.forEach(i=>{try{i.trackPageView(e,t)}catch(e){console.warn("Failed to track page view:",e)}})}trackEvent(e,t){this.initialized||this.init(),this.providers.forEach(i=>{try{i.trackEvent(e,t)}catch(e){console.warn("Failed to track event:",e)}})}trackError(e,t){this.initialized||this.init();let i={message:"string"==typeof e?e:e.message,..."string"!=typeof e&&e.stack?{stack:e.stack}:{},url:window.location.href,..."undefined"!=typeof navigator?{userAgent:navigator.userAgent}:{},timestamp:new Date().toISOString(),...t};this.providers.forEach(t=>{try{t.trackError(e,i)}catch(e){console.warn("Failed to track error:",e)}})}identify(e,t){this.initialized||this.init(),this.providers.forEach(i=>{try{var s;null===(s=i.identify)||void 0===s||s.call(i,e,t)}catch(e){console.warn("Failed to identify user:",e)}})}setUserProperties(e){this.initialized||this.init(),this.providers.forEach(t=>{try{var i;null===(i=t.setUserProperties)||void 0===i||i.call(t,e)}catch(e){console.warn("Failed to set user properties:",e)}})}async flush(){await Promise.all(this.providers.map(e=>{try{var t;return null===(t=e.flush)||void 0===t?void 0:t.call(e)}catch(e){console.warn("Failed to flush analytics:",e)}}))}addProvider(e){if(this.providers.push(e),this.initialized){var t;null===(t=e.init)||void 0===t||t.call(e)}}constructor(){this.providers=[],this.initialized=!1}}let w=new g;w.init()},8006:function(e,t,i){i.d(t,{k:function(){return o}});var s=i(1698),r=i(8571);class n{getMinLevel(){var e;return(null===(e=r.env.NEXT_PUBLIC_LOG_LEVEL)||void 0===e?void 0:e.toLowerCase())||"info"}generateSessionId(){let e=sessionStorage.getItem("app_session_id");return e||(e="".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),sessionStorage.setItem("app_session_id",e)),e}shouldLog(e){if(!this.enabled)return!1;let t=["debug","info","warn","error","critical"];return t.indexOf(e)>=t.indexOf(this.minLevel)}createLogEntry(e,t,i,s){return{level:e,message:t,timestamp:new Date().toISOString(),...s?{context:s}:{},error:i?{name:i.name,message:i.message,stack:i.stack}:void 0,...this.userId?{userId:this.userId}:{},sessionId:this.sessionId,url:window.location.href,..."undefined"!=typeof navigator?{userAgent:navigator.userAgent}:{}}}output(e){if("true"===r.env.NEXT_PUBLIC_ENABLE_CONSOLE_LOGS){let t="critical"===e.level?"error":e.level,i=this.getConsoleStyle(e.level);console[t]("%c[".concat(e.level.toUpperCase(),"]"),i,e.message,e.context||"",e.error||"")}("error"===e.level||"critical"===e.level)&&s.c.trackError(e.error||Error(e.message),{level:e.level,message:e.message,...e.context?{context:e.context}:{},...e.sessionId?{sessionId:e.sessionId}:{},...e.userId?{userId:e.userId}:{}}),r.env.NEXT_PUBLIC_LOGGING_ENDPOINT&&this.sendToEndpoint(e).catch(()=>{})}getConsoleStyle(e){return({debug:"color: #6b7280",info:"color: #3b82f6",warn:"color: #f59e0b",error:"color: #ef4444",critical:"color: #dc2626; font-weight: bold"})[e]||""}async sendToEndpoint(e){try{await fetch(r.env.NEXT_PUBLIC_LOGGING_ENDPOINT,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(e){}}setUserId(e){this.userId=e}debug(e,t){this.shouldLog("debug")&&this.output(this.createLogEntry("debug",e,void 0,t))}info(e,t){this.shouldLog("info")&&this.output(this.createLogEntry("info",e,void 0,t))}warn(e,t){this.shouldLog("warn")&&this.output(this.createLogEntry("warn",e,void 0,t))}error(e,t,i){this.shouldLog("error")&&this.output(this.createLogEntry("error",e,t,i))}critical(e,t,i){this.shouldLog("critical")&&this.output(this.createLogEntry("critical",e,t,i))}constructor(){this.minLevel=this.getMinLevel(),this.sessionId=this.generateSessionId(),this.enabled="false"!==r.env.NEXT_PUBLIC_ENABLE_LOGGING}}let o=new n}}]);