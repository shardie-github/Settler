npm warn config optional Use `--omit=optional` to exclude optional dependencies, or
npm warn config `--include=optional` to include them.
npm warn config
npm warn config       Default value does install optional deps unless otherwise omitted.

> @settler/api@1.0.0 typecheck
> tsc --noEmit

src/jobs/email-scheduler.ts(8,1): error TS6192: All imports in import declaration are unused.
src/lib/email-lifecycle.ts(19,3): error TS2412: Type '{ product_name?: string; upgrade_url?: string; dashboard_url?: string; support_url?: string; pricing_url?: string; docs_url?: string; playground_url?: string; cookbooks_url?: string; } | undefined' is not assignable to type '{ product_name?: string; upgrade_url?: string; dashboard_url?: string; support_url?: string; pricing_url?: string; docs_url?: string; playground_url?: string; cookbooks_url?: string; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type '{ product_name?: string; upgrade_url?: string; dashboard_url?: string; support_url?: string; pricing_url?: string; docs_url?: string; playground_url?: string; cookbooks_url?: string; }'.
src/lib/email-lifecycle.ts(20,3): error TS2412: Type '{ profile_setup_url?: string; demo_url?: string; free_tier_url?: string; free_tier_info_url?: string; consultation_url?: string; insights_url?: string; } | undefined' is not assignable to type '{ profile_setup_url?: string; demo_url?: string; free_tier_url?: string; free_tier_info_url?: string; consultation_url?: string; insights_url?: string; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type '{ profile_setup_url?: string; demo_url?: string; free_tier_url?: string; free_tier_info_url?: string; consultation_url?: string; insights_url?: string; }'.
src/lib/email-lifecycle.ts(154,11): error TS6133: 'urls' is declared but its value is never read.
src/lib/email-lifecycle.ts(236,11): error TS6133: 'urls' is declared but its value is never read.
src/lib/email-lifecycle.ts(273,11): error TS6133: 'urls' is declared but its value is never read.
src/lib/email-lifecycle.ts(329,11): error TS6133: 'urls' is declared but its value is never read.
src/lib/email-lifecycle.ts(361,11): error TS6133: 'urls' is declared but its value is never read.
src/lib/email-lifecycle.ts(403,11): error TS6133: 'urls' is declared but its value is never read.
src/lib/email-lifecycle.ts(451,11): error TS6133: 'urls' is declared but its value is never read.
src/middleware/feature-flags.ts(156,42): error TS6133: 'res' is declared but its value is never read.
src/middleware/feature-flags.ts(206,10): error TS7030: Not all code paths return a value.
src/middleware/pricing.ts(6,10): error TS6133: 'Request' is declared but its value is never read.
src/middleware/pricing.ts(22,3): error TS6133: 'res' is declared but its value is never read.
src/middleware/pricing.ts(37,16): error TS2339: Property 'rows' does not exist on type '{ tier: string; }[]'.
src/middleware/pricing.ts(41,25): error TS2339: Property 'rows' does not exist on type '{ tier: string; }[]'.
src/middleware/pricing.ts(66,9): error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'.
src/middleware/pricing.ts(107,45): error TS2339: Property 'rows' does not exist on type '{ count: string; }[]'.
src/middleware/pricing.ts(118,53): error TS2339: Property 'rows' does not exist on type '{ count: string; }[]'.
src/middleware/pricing.ts(129,55): error TS2339: Property 'rows' does not exist on type '{ count: string; }[]'.
src/middleware/pricing.ts(144,11): error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'.
src/middleware/request-signing.ts(87,5): error TS2375: Type '{ valid: boolean; algorithm: "sha256" | "sha512"; timestamp: number; reason: string | undefined; }' is not assignable to type 'SignatureVerificationResult' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'reason' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
src/middleware/request-signing.ts(127,10): error TS7030: Not all code paths return a value.
src/middleware/request-signing.ts(183,10): error TS7030: Not all code paths return a value.
src/routes/aias.ts(20,19): error TS6133: 'logError' is declared but its value is never read.
src/routes/aias.ts(87,3): error TS2554: Expected 2-5 arguments, but got 1.
src/routes/aias.ts(87,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'void' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
src/routes/aias.ts(90,11): error TS6133: 'userId' is declared but its value is never read.
src/routes/aias.ts(121,29): error TS2339: Property 'rows' does not exist on type '{ id: string; }[]'.
src/routes/aias.ts(125,52): error TS2339: Property 'rows' does not exist on type '{ id: string; }[]'.
src/routes/aias.ts(128,28): error TS2339: Property 'rows' does not exist on type '{ id: string; }[]'.
src/routes/aias.ts(144,3): error TS2554: Expected 2-5 arguments, but got 1.
src/routes/aias.ts(144,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'void' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
src/routes/aias.ts(153,8): error TS2322: Type 'string | undefined' is not assignable to type 'string | number | boolean | Date | null'.
  Type 'undefined' is not assignable to type 'string | number | boolean | Date | null'.
src/routes/aias.ts(156,20): error TS2339: Property 'rows' does not exist on type '{ id: string; }[]'.
src/routes/aias.ts(157,14): error TS2554: Expected 4-6 arguments, but got 3.
src/routes/aias.ts(161,46): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
src/routes/aias.ts(175,30): error TS2322: Type 'string | undefined' is not assignable to type 'string | number | boolean | Date | null'.
  Type 'undefined' is not assignable to type 'string | number | boolean | Date | null'.
src/routes/aias.ts(201,3): error TS2554: Expected 2-5 arguments, but got 1.
src/routes/aias.ts(201,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'void' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
src/routes/aias.ts(209,8): error TS2322: Type 'string | undefined' is not assignable to type 'string | number | boolean | Date | null'.
  Type 'undefined' is not assignable to type 'string | number | boolean | Date | null'.
src/routes/aias.ts(212,20): error TS2339: Property 'rows' does not exist on type '{ id: string; }[]'.
src/routes/aias.ts(213,14): error TS2554: Expected 4-6 arguments, but got 3.
src/routes/aias.ts(217,59): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
src/routes/aias.ts(227,22): error TS2339: Property 'rows' does not exist on type '{ id: string; }[]'.
src/routes/aias.ts(244,3): error TS2554: Expected 2-5 arguments, but got 1.
src/routes/aias.ts(244,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'void' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
src/routes/aias.ts(253,8): error TS2322: Type 'string | undefined' is not assignable to type 'string | number | boolean | Date | null'.
  Type 'undefined' is not assignable to type 'string | number | boolean | Date | null'.
src/routes/aias.ts(256,20): error TS2339: Property 'rows' does not exist on type '{ id: string; }[]'.
src/routes/aias.ts(257,14): error TS2554: Expected 4-6 arguments, but got 3.
src/routes/aias.ts(261,46): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
src/routes/aias.ts(291,3): error TS2554: Expected 2-5 arguments, but got 1.
src/routes/aias.ts(291,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'void' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
src/routes/aias.ts(299,8): error TS2322: Type 'string | undefined' is not assignable to type 'string | number | boolean | Date | null'.
  Type 'undefined' is not assignable to type 'string | number | boolean | Date | null'.
src/routes/aias.ts(302,20): error TS2339: Property 'rows' does not exist on type '{ id: string; }[]'.
src/routes/aias.ts(303,14): error TS2554: Expected 4-6 arguments, but got 3.
src/routes/aias.ts(307,58): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
src/routes/aias.ts(316,20): error TS2339: Property 'rows' does not exist on type '{ id: string; }[]'.
src/routes/aias.ts(332,3): error TS2554: Expected 2-5 arguments, but got 1.
src/routes/aias.ts(332,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'void' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
src/routes/aias.ts(341,8): error TS2322: Type 'string | undefined' is not assignable to type 'string | number | boolean | Date | null'.
  Type 'undefined' is not assignable to type 'string | number | boolean | Date | null'.
src/routes/aias.ts(344,20): error TS2339: Property 'rows' does not exist on type '{ id: string; }[]'.
src/routes/aias.ts(345,14): error TS2554: Expected 4-6 arguments, but got 3.
src/routes/aias.ts(349,46): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
src/routes/aias.ts(365,9): error TS2322: Type 'string | undefined' is not assignable to type 'string | number | boolean | Date | null'.
  Type 'undefined' is not assignable to type 'string | number | boolean | Date | null'.
src/routes/aias.ts(385,3): error TS2554: Expected 2-5 arguments, but got 1.
src/routes/aias.ts(385,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'void' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
src/routes/aias.ts(404,18): error TS2322: Type 'string | ParsedQs | (string | ParsedQs)[]' is not assignable to type 'string | number | boolean | Date | null'.
  Type 'ParsedQs' is not assignable to type 'string | number | boolean | Date | null'.
    Type 'ParsedQs' is missing the following properties from type 'Date': toDateString, toTimeString, toLocaleDateString, toLocaleTimeString, and 37 more.
src/routes/aias.ts(413,22): error TS2339: Property 'rows' does not exist on type '{ id: string; model_name: string; version: string; model_type: string; format: string; is_active: boolean; created_at: Date; }[]'.
src/routes/aias.ts(417,35): error TS2339: Property 'rows' does not exist on type '{ count: string; }[]'.
src/routes/aias.ts(433,3): error TS2554: Expected 2-5 arguments, but got 1.
src/routes/aias.ts(433,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'void' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
src/routes/aias.ts(457,8): error TS2322: Type 'string | undefined' is not assignable to type 'string | number | boolean | Date | null'.
  Type 'undefined' is not assignable to type 'string | number | boolean | Date | null'.
src/routes/aias.ts(460,16): error TS2339: Property 'rows' does not exist on type '{ id: string; model_name: string; version: string; model_type: string; format: string; quantization: string; file_path: string; file_size_bytes: number; benchmark_results: string; device_targets: string[]; metadata: string; is_active: boolean; created_at: Date; }[]'.
src/routes/aias.ts(461,14): error TS2554: Expected 4-6 arguments, but got 3.
src/routes/aias.ts(464,26): error TS2339: Property 'rows' does not exist on type '{ id: string; model_name: string; version: string; model_type: string; format: string; quantization: string; file_path: string; file_size_bytes: number; benchmark_results: string; device_targets: string[]; metadata: string; is_active: boolean; created_at: Date; }[]'.
src/routes/aias.ts(486,14): error TS2339: Property 'rows' does not exist on type '{ metadata: string; }[]'.
src/routes/aias.ts(490,38): error TS2339: Property 'rows' does not exist on type '{ metadata: string; }[]'.
src/routes/batch.ts(11,18): error TS6133: 'Request' is declared but its value is never read.
src/routes/batch.ts(23,19): error TS6133: 'options' is declared but its value is never read.
src/routes/batch.ts(50,21): error TS2339: Property 'user' does not exist on type 'AuthRequest'.
src/routes/edge-ai.ts(17,19): error TS6133: 'logError' is declared but its value is never read.
src/routes/edge-ai.ts(21,1): error TS6133: 'uuidv4' is declared but its value is never read.
src/routes/edge-ai.ts(23,1): error TS6133: 'crypto' is declared but its value is never read.
src/routes/edge-ai.ts(153,14): error TS2339: Property 'rows' does not exist on type '{ id: string; tenant_id: string; }[]'.
src/routes/edge-ai.ts(160,13): error TS2339: Property 'rows' does not exist on type '{ id: string; tenant_id: string; }[]'.
src/routes/edge-ai.ts(164,20): error TS2339: Property 'rows' does not exist on type '{ id: string; tenant_id: string; }[]'.
src/routes/edge-ai.ts(165,22): error TS2339: Property 'rows' does not exist on type '{ id: string; tenant_id: string; }[]'.
src/routes/edge-ai.ts(186,3): error TS2554: Expected 2-5 arguments, but got 1.
src/routes/edge-ai.ts(186,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'void' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
src/routes/edge-ai.ts(218,27): error TS2339: Property 'rows' does not exist on type '{ id: string; }[]'.
src/routes/edge-ai.ts(245,3): error TS2554: Expected 2-5 arguments, but got 1.
src/routes/edge-ai.ts(245,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'void' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
src/routes/edge-ai.ts(262,30): error TS2339: Property 'rows' does not exist on type '{ id: string; tenant_id: string; enrollment_key_hash: string; status: string; }[]'.
src/routes/edge-ai.ts(271,14): error TS2554: Expected 4-6 arguments, but got 3.
src/routes/edge-ai.ts(320,3): error TS2554: Expected 2-5 arguments, but got 1.
src/routes/edge-ai.ts(320,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'void' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
src/routes/edge-ai.ts(338,18): error TS2322: Type 'string | ParsedQs | (string | ParsedQs)[]' is not assignable to type 'string | number | boolean | Date | null'.
  Type 'ParsedQs' is not assignable to type 'string | number | boolean | Date | null'.
    Type 'ParsedQs' is missing the following properties from type 'Date': toDateString, toTimeString, toLocaleDateString, toLocaleTimeString, and 37 more.
src/routes/edge-ai.ts(348,21): error TS2339: Property 'rows' does not exist on type '{ id: string; name: string; status: string; device_type: string; last_heartbeat_at: Date; created_at: Date; }[]'.
src/routes/edge-ai.ts(352,35): error TS2339: Property 'rows' does not exist on type '{ count: string; }[]'.
src/routes/edge-ai.ts(368,3): error TS2554: Expected 2-5 arguments, but got 1.
src/routes/edge-ai.ts(368,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'void' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
src/routes/edge-ai.ts(392,8): error TS2322: Type 'string | undefined' is not assignable to type 'string | number | boolean | Date | null'.
  Type 'undefined' is not assignable to type 'string | number | boolean | Date | null'.
src/routes/edge-ai.ts(395,16): error TS2339: Property 'rows' does not exist on type '{ id: string; name: string; status: string; device_type: string; device_os: string; device_arch: string; capabilities: string; location: string; last_heartbeat_at: Date; last_sync_at: Date; version: string; metadata: string; created_at: Date; }[]'.
src/routes/edge-ai.ts(396,14): error TS2554: Expected 4-6 arguments, but got 3.
src/routes/edge-ai.ts(399,25): error TS2339: Property 'rows' does not exist on type '{ id: string; name: string; status: string; device_type: string; device_os: string; device_arch: string; capabilities: string; location: string; last_heartbeat_at: Date; last_sync_at: Date; version: string; metadata: string; created_at: Date; }[]'.
src/routes/edge-ai.ts(417,3): error TS2554: Expected 2-5 arguments, but got 1.
src/routes/edge-ai.ts(417,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'void' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
src/routes/edge-ai.ts(448,14): error TS2554: Expected 4-6 arguments, but got 3.
src/routes/edge-ai.ts(457,7): error TS2345: Argument of type 'unknown[]' is not assignable to parameter of type '(string | number | boolean | Date | null)[]'.
  Type 'unknown' is not assignable to type 'string | number | boolean | Date | null'.
src/routes/edge-ai.ts(476,3): error TS2554: Expected 2-5 arguments, but got 1.
src/routes/edge-ai.ts(476,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'void' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
src/routes/edge-ai.ts(484,8): error TS2322: Type 'string | undefined' is not assignable to type 'string | number | boolean | Date | null'.
  Type 'undefined' is not assignable to type 'string | number | boolean | Date | null'.
src/routes/edge-ai.ts(504,3): error TS2554: Expected 2-5 arguments, but got 1.
src/routes/edge-ai.ts(504,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'void' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
src/routes/edge-ai.ts(505,23): error TS6133: 'status' is declared but its value is never read.
src/routes/edge-ai.ts(505,40): error TS6133: 'metrics' is declared but its value is never read.
src/routes/edge-ai.ts(509,14): error TS2554: Expected 4-6 arguments, but got 3.
src/routes/edge-ai.ts(525,9): error TS2345: Argument of type 'unknown[]' is not assignable to parameter of type '(string | number | boolean | Date | null)[]'.
  Type 'unknown' is not assignable to type 'string | number | boolean | Date | null'.
src/routes/edge-ai.ts(540,3): error TS2554: Expected 2-5 arguments, but got 1.
src/routes/edge-ai.ts(540,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'void' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
src/routes/edge-ai.ts(545,14): error TS2554: Expected 4-6 arguments, but got 3.
src/routes/edge-ai.ts(562,33): error TS2339: Property 'rows' does not exist on type '{ id: string; }[]'.
src/routes/edge-ai.ts(598,3): error TS2554: Expected 2-5 arguments, but got 1.
src/routes/edge-ai.ts(598,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'void' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
src/routes/edge-ai.ts(603,14): error TS2554: Expected 4-6 arguments, but got 3.
src/routes/edge-ai.ts(630,32): error TS2339: Property 'rows' does not exist on type '{ id: string; }[]'.
src/routes/edge-ai.ts(653,3): error TS2554: Expected 2-5 arguments, but got 1.
src/routes/edge-ai.ts(653,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'void' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
src/routes/edge-ai.ts(658,14): error TS2554: Expected 4-6 arguments, but got 3.
src/routes/edge-ai.ts(681,30): error TS2339: Property 'rows' does not exist on type '{ id: string; }[]'.
src/routes/edge-ai.ts(704,3): error TS2554: Expected 2-5 arguments, but got 1.
src/routes/edge-ai.ts(704,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'void' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
src/routes/edge-ai.ts(709,14): error TS2554: Expected 4-6 arguments, but got 3.
src/routes/edge-ai.ts(734,26): error TS2339: Property 'rows' does not exist on type '{ id: string; }[]'.
src/routes/exports.ts(11,18): error TS6133: 'Request' is declared but its value is never read.
src/routes/exports.ts(23,36): error TS6133: 'options' is declared but its value is never read.
src/routes/exports.ts(52,21): error TS2339: Property 'user' does not exist on type 'AuthRequest'.
src/routes/exports.ts(56,25): error TS7053: Element implicitly has an 'any' type because expression of type 'any' can't be used to index type '{ csv: string; xlsx: string; pdf: string; json: string; }'.
src/routes/notifications.ts(12,18): error TS6133: 'Request' is declared but its value is never read.
src/routes/notifications.ts(38,19): error TS6133: 'config' is declared but its value is never read.
src/routes/notifications.ts(43,21): error TS2339: Property 'user' does not exist on type 'AuthRequest'.
src/routes/notifications.ts(67,22): error TS6133: 'config' is declared but its value is never read.
src/routes/notifications.ts(72,21): error TS2339: Property 'user' does not exist on type 'AuthRequest'.
src/routes/notifications.ts(93,51): error TS6133: 'req' is declared but its value is never read.
src/routes/usage.ts(11,18): error TS6133: 'Request' is declared but its value is never read.
npm error Lifecycle script `typecheck` failed with error:
npm error code 1
npm error path /workspace/packages/api
npm error workspace @settler/api@1.0.0
npm error location /workspace/packages/api
npm error command failed
npm error command sh -c tsc --noEmit
